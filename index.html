<html>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script>
      AFRAME.registerComponent('video-vidhandler', {
                init: function() {
		    console.log('video init entered');
                    this.toggle = false;
                    this.vid = document.querySelector("#thelionking");
                    this.vid.pause();
                },
                tick: function() {
                    if (this.el.object3D.visible == true) {
                        if (!this.toggle) {
                            this.toggle = true;
                            this.vid.play();
                        }
                    } else {
                        this.toggle = false;
                        this.vid.pause();
                    }
                }
            });
    </script>
      
<body style="margin : 0px; overflow: hidden;">
    <a-scene embedded arjs='sourceType: webcam;'>
      <a-assets>
        <video id="thelionking" autoplay loop="false" src="./thelionking.mov"></video>
      </a-assets>
      <a-marker preset='custom' type='pattern' url='./pattern-MovieIconNew.patt' video-vidhandler> 
        <a-plane scale = "16 8" position='0 0.1 0' rotation="-90 0 0" material='transparent:true;src:#thelionking' controls></a-plane>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
  
</html>
